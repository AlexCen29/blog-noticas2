import{_ as d,c as u,a as s,b as n,w as c,d as l,v as b,e as p,n as m,F as g,f,u as h,o as w}from"./index-DyVkFp_L.js";import{S as v}from"./sweetalert2.esm.all-B0Dix5B2.js";const y={name:"LoginView",data(){return{isLoading:!1,showPassword:!1,email:"",password:""}},methods:{async handleSubmit(){this.isLoading=!0;try{console.log("Iniciando session de usuario...","https://digitalpen.onrender.com/api/auth/");const e=await f.post("https://digitalpen.onrender.com/api/auth/login",{email:this.email,password:this.password});if(console.log(e),e.status===200)sessionStorage.setItem("authToken",e.data.token),sessionStorage.setItem("authUser",JSON.stringify(e.data.user)),console.log(sessionStorage.getItem("authUser")),this.$router.push("/Admin");else throw new Error(e.data)}catch(e){const o=e.response&&e.response.data&&e.response.data.error?e.response.data.error:"¡Ha ocurrido un error al iniciar sesión! Por favor, intenta de nuevo.";v.fire({icon:"error",title:"Error al iniciar sesión",text:o,confirmButtonColor:"#007bff"})}finally{this.isLoading=!1}console.log("Datos de registro:",this.form)},enterAsGuest(){this.$router.push("/guest")},togglePasswordVisibility(){this.showPassword=!this.showPassword}},setup(){const e=h();return{goToHome:()=>{e.push("/")}}}},_={class:"navbar navbar-expand-lg navbar-dark bg-dark"},x={class:"container-fluid"},S={class:"container mt-5"},P={class:"row justify-content-center"},k={class:"col-md-6"},T={class:"card border-0 shadow-lg"},V={class:"card-body p-4"},L={class:"mb-3"},A={class:"input-group"},C=["disabled"],H={class:"mb-4"},I={class:"input-group"},B=["disabled","type"],M={class:"d-grid gap-2"},U=["disabled"];function D(e,o,E,a,t,r){return w(),u(g,null,[s("header",null,[s("nav",_,[s("div",x,[o[6]||(o[6]=s("h1",{class:"navbar-brand"},"Acceso al Panel de Administración",-1)),s("button",{class:"btn btn-outline-light",onClick:o[0]||(o[0]=(...i)=>a.goToHome&&a.goToHome(...i))},o[5]||(o[5]=[s("i",{class:"fas fa-home"},null,-1),n(" Volver al Home ")]))])])]),s("div",S,[s("div",P,[s("div",k,[s("div",T,[o[12]||(o[12]=s("div",{class:"card-header bg-primary text-white text-center p-4"},[s("h2",{class:"mb-0"},"Acceso Administración")],-1)),s("div",V,[s("form",{onSubmit:o[4]||(o[4]=c((...i)=>r.handleSubmit&&r.handleSubmit(...i),["prevent"]))},[s("div",L,[o[8]||(o[8]=s("label",{for:"username",class:"form-label"},"Correo",-1)),s("div",A,[o[7]||(o[7]=s("span",{class:"input-group-text bg-light"},[s("i",{class:"bi bi-person-circle"})],-1)),l(s("input",{disabled:t.isLoading,"onUpdate:modelValue":o[1]||(o[1]=i=>t.email=i),type:"email",class:"form-control",id:"username",placeholder:"Tu correo electronico",required:""},null,8,C),[[b,t.email]])])]),s("div",H,[o[10]||(o[10]=s("label",{for:"password",class:"form-label"},"Contraseña",-1)),s("div",I,[o[9]||(o[9]=s("span",{class:"input-group-text bg-light"},[s("i",{class:"bi bi-lock-fill"})],-1)),l(s("input",{disabled:t.isLoading,"onUpdate:modelValue":o[2]||(o[2]=i=>t.password=i),type:t.showPassword?"text":"password",class:"form-control",id:"password",placeholder:"Tu contraseña",required:""},null,8,B),[[p,t.password]]),s("button",{type:"button",class:"btn btn-secondary",onClick:o[3]||(o[3]=(...i)=>r.togglePasswordVisibility&&r.togglePasswordVisibility(...i))},[s("i",{class:m(t.showPassword?"bi bi-eye-slash-fill":"bi bi-eye-fill")},null,2)])])]),s("div",M,[s("button",{disabled:t.isLoading,type:"submit",class:"btn btn-success btn-lg"},o[11]||(o[11]=[s("i",{class:"bi bi-box-arrow-in-right me-2"},null,-1),n(" Iniciar Sesión ")]),8,U)])],32)])])])])])],64)}const F=d(y,[["render",D],["__scopeId","data-v-f01c038b"]]);export{F as default};
